"use strict";function ready(){menu(),scroll(),validate()}function menu(){var e=document.querySelector(".nav__container"),t=document.getElementsByTagName("nav")[0];e.addEventListener("click",function(e){if(e.preventDefault(),!e.target.classList.contains("nav__container_active"))return e.target.classList.toggle("nav__container_active"),void(t.style.display="block");t.removeAttribute("style"),e.target.classList.remove("nav__container_active")})}document.addEventListener("DOMContentLoaded",ready);var scrollElem,scrollState=!1;function scroll(){(scrollElem=document.querySelector(".scroll")).addEventListener("click",function(e){e.preventDefault(),smoothscroll()}),window.onscroll=function(){960<=getScrollVertically()&&0==scrollState&&(scrollState=!0,checkScrollState()),getScrollVertically()<900&&1==scrollState&&(scrollState=!1,checkScrollState())}}function getScrollVertically(){if(null!=window.pageYOffset)return pageYOffset;var e=document,t=e.documentElement,l=e.body;return t.scrollTop||l.scrollTop||0}function checkScrollState(){scrollState?(scrollElem.classList.remove("scroll_hide"),scrollElem.classList.add("scroll_show")):(scrollElem.classList.remove("scroll_show"),scrollElem.classList.add("scroll_hide"))}function smoothscroll(){var e=document.documentElement.scrollTop||document.body.scrollTop;0<e&&(window.requestAnimationFrame(smoothscroll),window.scrollTo(0,e-e/5))}var validate=function(){var e=document.getElementsByTagName("form")[0],a=[];console.log(e),e.addEventListener("submit",function(e){e.preventDefault();var t=this.elements;console.log(this.elements);for(var l=0,o=t.length;l<o;l++)if(i(t[l])){var r=t[l].dataset.rule;r=r.split(" ");for(var n=0,c=r.length;n<c;n++)r[n]in s&&(s[r[n]](t[l])||a.push({el:t[l],name:t[l].name,error_idx:r[n],error:r[n]}))}0<a.length&&(e.preventDefault(),function(e){for(var t=0;t<e.length;t++)e[t].el.classList.add("failed_validation"),console.log(e[t].el)}(a))});var s={required:function(e){return""!==e.value},needName:function(e){return/^[a-zA-Z]{1,20}$/.test(e.value)},email:function(e){return/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(e.value)}};function i(e){return!!e.getAttribute("data-rule")}};